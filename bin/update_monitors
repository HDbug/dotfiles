#!/bin/bash
display_ports=( "VGA1" "DP1" )
external=false
for display_port in "${display_ports[@]}"; do
	if [[ $(xrandr -q | grep $display_port | awk '{print $2}') == "connected" ]]; then
		xrandr --output $display_port --mode $(xrandr -q | grep $display_port -A 1 | tail -n 1 | awk '{print $1}')
		xrandr --output $display_port --primary
		xrandr --output LVDS1 --same-as $display_port
		external=true
		break
	else
		xrandr --output LVDS1 --primary
	fi
done

[[ $external == true ]] && xrandr -s 0

cache_xrandr
